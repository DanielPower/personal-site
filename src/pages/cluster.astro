---
import Image from "../components/Image.astro";
import Layout from "../layouts/Layout.astro";
export const prerender = false;

const node_name = process.env.PUBLIC_NODE_NAME || "Unknown node";
---

<Layout>
  <ul>
    <li>
      <a
        href="https://grafana.danielpower.ca/public-dashboards/e65981fffdbf4a129b23fd0e8e51b879?orgId=1&refresh=30s"
        >Grafana Dashboard</a
      >
    </li>
    <li><a href="https://status.danielpower.ca">Uptime Monitoring</a></li>
  </ul>

  <p>
    This page is being served by <span class="node">{node_name}</span>
    in my homelab Kubernetes cluster.
  </p>

  <p>If you refresh, you might get a different node! ðŸ”„</p>

  <div class="node-image">
    <Image src={`nodes/${process.env.PUBLIC_NODE_NAME}.png`} alt={node_name} />
  </div>
</Layout>

<style>
  .node-image {
    margin-top: 0.5rem;
  }

  .node {
    font-weight: bold;
  }
</style>
